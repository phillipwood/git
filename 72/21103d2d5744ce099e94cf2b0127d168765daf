changes since v4:
 - reworked config handling to avoid calling git_default_config()
   unnecessarily and store defaults in struct replay_opts rather than
   using global variables.

changes since v3:
 - interpret commit.cleanup=scissors to mean COMMIT_MSG_CLEANUP_SPACE
   to match 'git commit'

changes since v1:
 - renamed git_revert_config() to common_config()
 - prefixed cleanup_mode constants to reflect the changes to patch 2
   in this series
