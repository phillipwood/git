changes since v1
 - use argv_array_pushf() as suggested by Eric
 - Fix comments and commit message to reflect changed behavior of
   read_env_script()
